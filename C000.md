# $C000-$CFFF

Most major screen editor routines can, and should, be entered
through their respective entries in the following jump table.
Each three-byte table entry consists of a JMP opcode followed
by the address of the target routine.

## 49152 $C000 CINT <a name="C000"></a>
Entry point for the routine at 49275/$C07B which establishes
the default characteristics for both the 40- and 80-column displays.
This entry is part of both the reset and RUN/STOP RESTORE sequences.
No preliminary setup is required, but
the behavior of the routine is affected by the setting of the
initialization status flag (2564/$0A04). The keyboard decoding
table pointers and screen editor indirect vectors are initialized
only when bit 6 of the flag is %0. If you wish to preserve decoding
table pointers or indirect vectors while resetting other
screen editor characteristics, set this bit to %1 before you call
the routine.

## 49155 $C003 JDISPLY <a name="C003"></a>
Entry point for the routine at 52276/$CC34, which deposits a
screen code and attribute value at the current cursor position.
Call this entry with the accumulator holding the screen code
(not the character code) for the desired character and the X
register holding the attribute value for the character.

## 49158 $C006 KEYIN <a name="C006"></a>
Entry point for the routine at 49716/$C234, which retrieves a
single character from the keyboard. In official Commodore literature,
this routine has the rather nondescriptive name LP2.
This entry is used by the Kernal GETIN routine [SEEEB] when
the keyboard is the input device. (The keyboard, device 0, is
the 128's default input device.) Upon return, the accumulator
will contain the retrieved character. Be sure to see the warning
in the KEYIN entry about calling this routine directly.

## 49161 $C009 GETSCRN <a name="C009"></a>
Entry point for the routine at 49819/$C29B, which retrieves a
character from a line of keyboard or screen input. In official
Commodore literature, this routine has the rather nondescriptive
name LOOP5. This entry is used by the Kernal BASIN
routine [$EF06] when input is requested from the keyboard
(device 0) or the screen (device 3). The input source is determined
by the value in the flag at [214/$D6](0000#D6). When the flag has
a nonzero value, the character at the current cursor position is
read and returned in the accumulator. When the end of the
line of input is reached, the routine returns the code for the
RETURN character, the value 13/$0D. If the flag is zero, the
routine accepts characters from the keyboard and displays
them on the screen until RETURN is pressed. It then returns
the first character of the input in the accumulator and sets the
source flag to a nonzero value so that subsequent calls retrieve
characters from the input line displayed on the screen. In
either case, the source flag should be set only before the first
call to this routine for any given line of input.

For keyboard input, the starting and ending columns and
the row for the input line are set automatically. For screen input,
the character is read from the row specified in [235/$EB](0000#EB) at
the column specified in [236/$EC](0000#EC). These locations normally
hold the current cursor position and are advanced one position
to the right after each call to this routine. However, the locations
can also be reset to any row and column you desire. The
screen input line ends on the row specified in 2608/$0A30 at
the column specified in [234/$EA](0000#EA). Neither of these locations is
set automatically, so you must specify the ending position
before calling for input from the screen. The X and Y register
contents will be preserved during this routine.

## 49164 $C00C PRINT <a name="C00C"></a>
Entry point for the routine at 50989/$C72D, which prints a
character at the current cursor position using the current
attribute (in [241/$F1](0000#F1)). This routine is used by the Kernal
BSOUT routine [$EF79] when the screen is specified as the
output device. The screen, device 3, is the 128's default
output device. Call the entry with the accumulator containing the
character code (not the screen code) for the character to be
displayed. The accumulator and X and Y register contents are
preserved during this routine.

## 49167 $C00F SCRORG <a name="C00F"></a>
Entry point for the routine at 52315/$CC5B, which returns
information about the current window size. This entry is the
target of the Kernal jump table entry SCRORG [$FFED], Upon
return, the X register will hold the number of columns (minus 1)
in the current window, and the Y register will hold the
number of rows (minus 1). The accumulator will hold the
maximum column number for the active screen (39 for the 40-
column display or 79 for the 80-column display).
